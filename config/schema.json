{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ASD Configuration Schema",
  "description": "Configuration schema for Agentic Spec Development CLI",
  "type": "object",
  "properties": {
    "dataPath": {
      "type": "string",
      "description": "Path to the directory containing specification files",
      "default": "./docs/specs"
    },
    "dataFormat": {
      "type": "string",
      "enum": ["markdown", "json", "yaml"],
      "description": "Primary data format for specifications",
      "default": "markdown"
    },
    "templatePath": {
      "type": "string", 
      "description": "Path to template files for new specifications",
      "default": "./templates"
    },
    "structure": {
      "type": "object",
      "description": "Folder structure for different specification statuses",
      "properties": {
        "active": {
          "type": "string",
          "description": "Folder name for active specifications",
          "default": "active"
        },
        "backlog": {
          "type": "string", 
          "description": "Folder name for backlog specifications",
          "default": "backlog"
        },
        "done": {
          "type": "string",
          "description": "Folder name for completed specifications", 
          "default": "done"
        }
      },
      "required": ["active", "backlog", "done"],
      "additionalProperties": false
    },
    "parsing": {
      "type": "object",
      "description": "Configuration for file parsing behavior",
      "properties": {
        "filePattern": {
          "type": "string",
          "description": "Glob pattern for specification files",
          "default": "**/*.md"
        },
        "frontMatterRequired": {
          "type": "boolean",
          "description": "Whether front matter is required in specification files",
          "default": false
        },
        "taskFormat": {
          "type": "string",
          "enum": ["asd", "github", "linear"],
          "description": "Task format parsing style",
          "default": "asd"
        }
      },
      "additionalProperties": false
    },
    "display": {
      "type": "object", 
      "description": "UI display configuration",
      "properties": {
        "priorityColors": {
          "type": "object",
          "description": "Color mapping for priority levels",
          "properties": {
            "P0": {"type": "string"},
            "P1": {"type": "string"},
            "P2": {"type": "string"},
            "P3": {"type": "string"}
          },
          "additionalProperties": false
        },
        "theme": {
          "type": "string",
          "description": "UI theme name",
          "default": "default"
        },
        "autoRefresh": {
          "type": "boolean",
          "description": "Enable automatic refresh on file changes",
          "default": true
        },
        "refreshDebounce": {
          "type": "number",
          "description": "Debounce time in milliseconds for auto refresh",
          "minimum": 100,
          "default": 500
        }
      },
      "additionalProperties": false
    },
    "cli": {
      "type": "object",
      "description": "CLI-specific configuration",
      "properties": {
        "defaultPriority": {
          "type": "string",
          "enum": ["P0", "P1", "P2", "P3"],
          "description": "Default priority for new specifications",
          "default": "P2"
        },
        "defaultStatus": {
          "type": "string", 
          "enum": ["active", "backlog", "done"],
          "description": "Default status for new specifications",
          "default": "backlog"
        },
        "supportedTypes": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["SPEC", "FEAT", "BUG", "SPIKE", "MAINT", "RELEASE"]
          },
          "description": "Supported specification types",
          "default": ["SPEC", "FEAT", "BUG", "SPIKE", "MAINT", "RELEASE"]
        },
        "statusFolders": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Valid status folder names",
          "default": ["active", "backlog", "done"]
        },
        "priorities": {
          "type": "array",
          "items": {"type": "string"}, 
          "description": "Valid priority levels",
          "default": ["P0", "P1", "P2", "P3"]
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["dataPath", "structure", "cli"],
  "additionalProperties": false
}